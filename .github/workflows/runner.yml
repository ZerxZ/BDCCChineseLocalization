name: Build BDDC Chinese Localization Nightly
on:
  workflow_dispatch:
  schedule:
    - cron: '15 13 * * *'
  push:
  pull_request: 

permissions: write-all

env:
  GODOT_VERSION: "3.5.2"
  PARATRANZ_TOKEN: ${{ secrets.PARATRANZ_TOKEN }}
  PARATRANZ_PROJECT: ${{ secrets.PARATRANZ_PROJECT }}
  
jobs:
  translate:
    name: üåê Translate
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Set up .NET Sdk
        uses: actions/setup-dotnet@v4
        with:
          dotnet-version: "8.0.x"
      - name: Run translation
        run: dotnet run --project BDCCChineseLocalization Translate ${{ env.PARATRANZ_TOKEN }} ${{ env.PARATRANZ_PROJECT }}
      - name: Upload translation artifact
        uses: actions/upload-artifact@v4
        with:
          name: bdcc-chinese-translation
          path: ./BdccChineseLocalization.zip
          retention-days: 7
          
    

  